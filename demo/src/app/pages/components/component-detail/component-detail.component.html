<div class="component-detail-page" *ngIf="component">
  <div class="breadcrumb">
    <a routerLink="/components">Components</a>
    <span class="separator">/</span>
    <a [routerLink]="['/components', component.category]">{{ component.category }}</a>
    <span class="separator">/</span>
    <span>{{ component.name }}</span>
  </div>

  <header class="component-header">
    <div class="header-top">
      <div>
        <h1>{{ component.name }}</h1>
        <p class="description">{{ component.description }}</p>
      </div>
      <a [routerLink]="['/components', component.category, component.id, 'showcase']" class="showcase-button">
        <span class="material-icons">play_circle</span>
        Interactive Playground
      </a>
    </div>
    <div class="component-meta">
      <span class="meta-item">
        <strong>Module:</strong> {{ component.module }}
      </span>
      <span class="meta-item">
        <strong>Selector:</strong> <code>{{ component.selector }}</code>
      </span>
    </div>
    <div class="component-tags">
      <span *ngFor="let tag of component.tags" class="tag">{{ tag }}</span>
    </div>
  </header>

  <div class="tabs">
    <button
      *ngFor="let tab of ['overview', 'api', 'examples', 'accessibility', 'theming']"
      [class.active]="activeTab === tab"
      (click)="setActiveTab(tab)"
      class="tab-button"
    >
      {{ tab | titlecase }}
    </button>
  </div>

  <div class="tab-content">
    <div *ngIf="activeTab === 'overview'" class="tab-panel">
      <section class="section">
        <h2>Import</h2>
        <app-code-example [code]="getImportCode()" language="typescript"></app-code-example>
      </section>

      <section class="section">
        <h2>Basic Usage</h2>
        <app-code-example [code]="generatedCode" language="html"></app-code-example>
      </section>

      <section class="section" *ngIf="component.useCases.length > 0">
        <h2>Use Cases</h2>
        <ul class="use-cases-list">
          <li *ngFor="let useCase of component.useCases">{{ useCase }}</li>
        </ul>
      </section>
    </div>

    <div *ngIf="activeTab === 'api'" class="tab-panel">
      <section class="section">
        <h2>Properties</h2>
        <div class="api-table">
          <table>
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Default</th>
                <th>Description</th>
                <th>Required</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let prop of component.properties">
                <td><code>{{ prop.name }}</code></td>
                <td><code>{{ prop.type }}</code></td>
                <td><code *ngIf="prop.default">{{ prop.default }}</code></td>
                <td>{{ prop.description }}</td>
                <td>
                  <span class="badge" [class.required]="prop.required">
                    {{ prop.required ? 'Yes' : 'No' }}
                  </span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <section class="section" *ngIf="component.events && component.events.length > 0">
        <h2>Events</h2>
        <div class="api-table">
          <table>
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let event of component.events">
                <td><code>{{ event.name }}</code></td>
                <td><code>{{ event.type }}</code></td>
                <td>{{ event.description }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>
    </div>

    <div *ngIf="activeTab === 'examples'" class="tab-panel">
      <div *ngFor="let example of component.examples" class="example-section">
        <h3>{{ example.title }}</h3>
        <p>{{ example.description }}</p>
        <app-code-example [code]="example.code" [language]="example.language"></app-code-example>
      </div>
    </div>

    <div *ngIf="activeTab === 'accessibility'" class="tab-panel">
      <section class="section">
        <h2>ARIA Support</h2>
        <ul class="feature-list">
          <li *ngFor="let aria of component.accessibility.ariaSupport">
            <span class="material-icons check-icon">check_circle</span>
            <code>{{ aria }}</code>
          </li>
        </ul>
      </section>

      <section class="section">
        <h2>Keyboard Navigation</h2>
        <ul class="feature-list">
          <li *ngFor="let key of component.accessibility.keyboardNavigation">
            <span class="material-icons check-icon">keyboard</span>
            {{ key }}
          </li>
        </ul>
      </section>

      <section class="section">
        <h2>Screen Reader</h2>
        <p>{{ component.accessibility.screenReaderInfo }}</p>
      </section>
    </div>

    <div *ngIf="activeTab === 'theming'" class="tab-panel">
      <section class="section">
        <h2>CSS Variables</h2>
        <ul class="css-variables-list">
          <li *ngFor="let variable of component.theming.cssVariables">
            <code>{{ variable }}</code>
          </li>
        </ul>
      </section>

      <section class="section">
        <h2>Customization</h2>
        <p>{{ component.theming.customization }}</p>
      </section>
    </div>
  </div>
</div>
